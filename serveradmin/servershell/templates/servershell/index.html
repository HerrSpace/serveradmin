{% extends "base.html" %}
{% block title %}Servershell{% endblock %}

{% block content %}
<h2>Servershell</h2>

<table class="valign-middle">
<tr>
    <td>Search: </td>
    <td>
        <form method="post" action="" id="shell_search_form">
        <input type="text" size="60"  id="shell_search" />
        </form>
    </td>
	<td>
	{% comment %}
		<img src="{{ STATIC_URL}}bookmarked.png" id="shell_bookmarked" />
		<img src="{{ STATIC_URL}}notbookmarked.png" id="shell_notbookmarked" />
	{% endcomment %}
	</td>
</tr>
<tr id="shell_understood_container">
    <td>Understood: </td>
    <td colspan="2" id="shell_understood">Nothing yet.</td>
</tr>
<tr id="shell_command_container">
    <td>Command: </td>
    <td>
        <form method="post" action="javascript:return false;" id="shell_command_form">
        <input type="text" size="60"  id="shell_command" />
        </form>
    </td>
	<td>
		<img src="{{ STATIC_URL}}help.png" id="shell_command_help_icon" class="help_icon" />
	</td>
</tr>
</table>

<div id="shell_servers"></div>

<div id="shell_attributes">
	<h3>Attributes</h3>
    <ul>
    {% for attr in attribute_list %}
        <li>{{ attr }}
    {% endfor %}
    </ul>
</div>

<div id="shell_search_help"></div>
<div id="shell_command_help">
<table>
	<tr>
		<th>Command</th>
		<th>Args</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>attr</td>
		<td>attribute_name[ attribute_name ...]</td>
		<td>Show an attribute in the server table. If it is already shown, it
		    will be hidden. Example: <code>attr os game_function</code></td>
	</tr>
</div>
{% endblock %}

{% block additional_body %}
<script type="text/javascript">
//<![CDATA[
var shell_autocomplete_url = "{% url servershell_autocomplete %}";
var shell_results_url = "{% url servershell_results %}";
var shell_export_url = "{% url servershell_export %}";
var available_attributes = {{ attributes_json|safe }};
var filter_functions = {{ filters_json|safe }};
//]]>
</script>
<script type="text/javascript" src="{{ STATIC_URL }}servershell/common.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}servershell/servershell.js"></script>
{% endblock %}
