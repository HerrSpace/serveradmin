{% extends "base.html" %}

{% block title %}Attributes{% endblock %}

{% block content %}
<h2>Attributes</h2>

<table class="tabular">
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Multi</th>
        <th>Servertypes</th>
{% if perms.serverdb.delete_attribute %}
        <th>Delete</th>
{% endif %}
    </tr>
{% for attr in attributes %}
    <tr class="{% cycle 'row_a' 'row_b' %}">
        <td>{{ attr }}</td>
        <td>{{ attr.get_type_display }}</td>
        <td>{{ attr.multi|yesno }}</td>
        <td>
            <ul>
{% for servertype in attr.used_in %}
                <li><a href="{% url 'serverdb_view_servertype' servertype.pk %}">{{ servertype }}</a></li>
{% endfor %}
            </ul>
        </td>
{% if perms.serverdb.delete_attribute %}
        <td>
        {% if attr.pk %}
            <a href="{% url 'serverdb_delete_attribute' attr.pk %}">delete</a>
        {% else %}
        not deletable
        {% endif %}
        </td>
{% endif %}
    </tr>
{% endfor %}
</table>

{% if perms.serverdb.add_attribute %}
<p><a href="{% url 'serverdb_add_attribute' %}">Add attribute</a></p>
{% endif %}

{% endblock content %}
